# Domain-Specific Setup for ksaunibliss.com

## DNS Configuration

Make sure your domain `ksaunibliss.com` points to your Hostinger VPS IP address:

### Required DNS Records:
```
Type    Name                    Value
A       @                       YOUR_VPS_IP
A       www                     YOUR_VPS_IP
A       webhook                 YOUR_VPS_IP
CNAME   api                     ksaunibliss.com
```

## SSL Certificate Setup

After running the setup script, configure SSL certificates:

```bash
# For main domain
sudo certbot --nginx -d ksaunibliss.com -d www.ksaunibliss.com

# For webhook subdomain
sudo certbot --nginx -d webhook.ksaunibliss.com
```

## GitHub Webhook Configuration

1. Go to: https://github.com/mayurimulay789/KsauniBlissFinal/settings/hooks
2. Click "Add webhook"
3. Configure:
   - **Payload URL**: `https://webhook.ksaunibliss.com/webhook`
   - **Content type**: `application/json`
   - **Secret**: [Use the secret generated by setup script]
   - **Events**: Select "Just the push event"
   - **Active**: âœ… Checked

## Production Environment Variables

Your production environment will use:

```env
NODE_ENV=production
FRONTEND_URL=https://ksaunibliss.com
MONGODB_URI=mongodb+srv://ksaunibliss:LGaRwEasIMDN1M2x@cluster0.lbc8x6q.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0
```

## Nginx Configuration

Your nginx will serve:
- **Main app**: `https://ksaunibliss.com` â†’ Docker container port 80
- **API**: `https://ksaunibliss.com/api` â†’ Docker container port 5000
- **Webhook**: `https://webhook.ksaunibliss.com` â†’ Node.js webhook server port 3001

## Testing Your Setup

1. **Test main application**:
   ```bash
   curl -I https://ksaunibliss.com
   ```

2. **Test API health**:
   ```bash
   curl https://ksaunibliss.com/api/health
   ```

3. **Test webhook**:
   ```bash
   curl https://webhook.ksaunibliss.com/health
   ```

## Deployment Flow

1. **Push to GitHub** â†’ Triggers webhook
2. **Webhook server** receives notification
3. **Pulls latest code** from GitHub
4. **Rebuilds Docker containers** with new code
5. **Health checks** ensure everything is working
6. **Your site** at https://ksaunibliss.com is updated!

## Monitoring Commands

```bash
# Check all containers
docker ps

# Check webhook service
sudo systemctl status ksaunibliss-webhook

# Check deployment logs
tail -f /var/log/ksaunibliss-deploy.log

# Check webhook logs
tail -f /var/log/ksaunibliss-webhook.log

# Check nginx status
sudo systemctl status nginx

# Check SSL certificates
sudo certbot certificates
```

## Quick Commands

```bash
# Manual deployment
cd /home/u574849695/ksaunibliss && ./deploy/webhook-deploy.sh

# Restart webhook server
sudo systemctl restart ksaunibliss-webhook

# Restart containers
cd /home/u574849695/ksaunibliss && docker-compose restart

# View live logs
docker-compose logs -f
```

Your CI/CD pipeline is now configured for https://ksaunibliss.com! ðŸš€
